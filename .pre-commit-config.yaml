repos:
  - repo: https://github.com/norwoodj/helm-docs
    rev: v1.3.0
    hooks:
      - id: helm-docs
  - repo: https://github.com/Alfresco/alfresco-process-tools
    rev: master
    hooks:
      - id: travis-yml-lint
      - id: helm-deps
      - id: helm-lint
      - id: kubepug-minimum
      - id: kubepug-recommended
  - repo: local
    hooks:
      - id: helm-template
        name: Helm Template
        entry: bash -c 'find helm -mindepth 1 -maxdepth 1 -type d | xargs -t -n1 -I% bash -c "helm template % > %/output.yaml"'
        language: system
        pass_filenames: false
      - id: checkov
        name: Checkov
        entry: bash -c 'find helm -mindepth 1 -maxdepth 1 -type d | xargs -t -n1 -I% bash -c "checkov -f %/output.yaml"'
        language: system
        pass_filenames: false
